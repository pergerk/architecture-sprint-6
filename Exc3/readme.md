## Анализ
В проекте архитектуры везде используется REST Api кроме как во внешних вызовах к Системам страховых компаний

Из технического решения следует что:
    Сервис core-app осуществляет запрос к ins-product-aggregator - раз в 15 минут
    Сервис core-app осуществляет запрос к ins-comp-settlement — раз в сутки (ночью)
    Сервис ins-comp-settlement осуществляет запрос в core-app - раз в сутки

Проблемы:
    Рассинхронизация данных на 15 минут - между core-app и ins-comp-settlement
    Рассинхронизация данных на 1 сутки
    При неправильном ответе от Системы страховых компаний (неизвестное поведение)

## Проблемы и риски
   На данный момент система core-app монолит который отвечает за страховки
        соответсвенно единая точка отказа
        возможные проблемы с горизонтальным масштабированием в будущем
        при увеличении нагрузки возможны потери данных (Transactional OutBox не используется как понимаю)
    выгрузка раз в 15 минут при увеличении нагрузки может ддосить Системы страховых компаний
        которые возможно не спрявятся с нагрузкой
    выгрузка раз в сутки может доставить проблемы пользователям которые решат оформить заявку ночью
        или находяться в другом часовом поясе


## Решение
Изменить взаимодействие между core-app и ins-product-aggregator на eventStream
Изменить взаимодействие между core-app и ins-comp-settlement на eventStream
Изменить взаимодействие между ins-product-aggregator и ins-comp-settlement на eventStream

Использовать TransactionalOutbox стоит в случаях:
    core-app <----> ins-comp-settlement <----> Системы страховых компаний
    core-app <----> ins-product-aggregator <----> Системы страховых компаний
                            \-----> ins-comp-settlement

TransactionalOutbox позволит соблюдать консистенцию данных внутри системы.
      Так же позволит в интеграциях с внешними системами тоже сохранить консистентность данных и испротзовтаь разные Retry стратегии
